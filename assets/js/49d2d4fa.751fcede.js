"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[777],{8890:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var r=s(5893),t=s(1151);const o={id:"prompt-flow-lab1",title:"1\ufe0f\u20e3 | Build Lab Environment",sidebar_position:1,slug:"/build-workshop-enviroment"},i=void 0,a={id:"azure-prompt-flow/portal/prompt-flow-lab1",title:"1\ufe0f\u20e3 | Build Lab Environment",description:"As you work on creating Flows, it may have dependencies, services or external resources that you would need to connect to, such as OpenAI, Content Safety AI or your custom LLM models.  It enables users to add and manage connection to these resources as well as a their connection secrets (e.g. name, api key, api_endpoint, or type).",source:"@site/docs/azure-prompt-flow/portal/1-create-azure-resources.md",sourceDirName:"azure-prompt-flow/portal",slug:"/build-workshop-enviroment",permalink:"/responsible-ai-hub/docs/build-workshop-enviroment",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"prompt-flow-lab1",title:"1\ufe0f\u20e3 | Build Lab Environment",sidebar_position:1,slug:"/build-workshop-enviroment"},sidebar:"promptFlowSidebar",previous:{title:"Prompt Flow On AzureML",permalink:"/responsible-ai-hub/docs/prompt-flow-overview"},next:{title:"2\ufe0f\u20e3 | Bring Your Own Data",permalink:"/responsible-ai-hub/docs/bring-your-data"}},c={},l=[{value:"Launch Codespaces",id:"launch-codespaces",level:2},{value:"Open VS Code",id:"open-vs-code",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"As you work on creating Flows, it may have dependencies, services or external resources that you would need to connect to, such as OpenAI, Content Safety AI or your custom LLM models.  It enables users to add and manage connection to these resources as well as a their connection secrets (e.g. name, api key, api_endpoint, or type)."}),"\n",(0,r.jsx)(n.h2,{id:"launch-codespaces",children:"Launch Codespaces"}),"\n",(0,r.jsxs)(n.p,{children:["To get started, you can use a pre-built development environment. ",(0,r.jsx)(n.strong,{children:"Click the button below"})," to open the repo in GitHub Codespaces, and then continue the readme!"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://codespaces.new/nitya/rai-prompt-flow-workshop?quickstart=1",children:(0,r.jsx)(n.img,{src:"https://github.com/codespaces/badge.svg",alt:"Open in GitHub Codespaces"})})}),"\n",(0,r.jsx)(n.p,{children:"This will launch a Codespaces environment with all the dependencies installed.  Once the environment is ready, you can run the following commands to create the Azure resources and run the sample code."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": You can also access the codespaces by clicking on the green ",(0,r.jsx)(n.strong,{children:"Code"}),' button in the top right of the repo.  Then selecting the "Codespaces" tab and clicking on the ',(0,r.jsx)(n.strong,{children:"Create codespace on main"})," button to launch the Codespaces environement."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(6657).Z+"",width:"907",height:"403"})}),"\n",(0,r.jsx)(n.p,{children:"This will launch a Codespaces environment with all the dependencies installed.  Once the environment is ready. This will take ~ 10 minutes."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(5302).Z+"",width:"918",height:"643"})}),"\n",(0,r.jsx)(n.h2,{id:"open-vs-code",children:"Open VS Code"}),"\n",(0,r.jsx)(n.p,{children:"When the environment is ready, a Visual Studio Code editor will open."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(1323).Z+"",width:"1893",height:"612"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"At the commmand prompt, set the python environment to Python 3.8"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"conda activate py38_env\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Authenticate to Azure by running the following command:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"az login --use-device-code\n"})}),"\n",(0,r.jsx)(n.p,{children:"Enter the code provided in the browser to authenticate to Azure."}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Once authenticated, you need to set your Azure subscription."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"az account set --subscription <your-subscription-id>\n"})}),"\n",(0,r.jsxs)(n.admonition,{title:"GPT-3.5-Turbo LOCATIONS",type:"info",children:[(0,r.jsxs)(n.p,{children:["If you have ",(0,r.jsx)(n.strong,{children:"Azure OpenAI enabled"})," in your Azure subscription, pick a location name close to you that ",(0,r.jsx)(n.strong,{children:"GPT-3.5-Turbo"})," model is available: ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"australiaeast"})}),",\n",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"canadaeast"})}),", ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"eastus"})}),", ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"eastus2"})}),", ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"francecentral"})}),", ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"japaneast"})}),", ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"southcentralus"})}),", ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"switzerlandnorth"})}),", ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"uksouth"})}),", ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"westcentralus"})}),", ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"westus"})}),", and ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"westeurope"})}),"."]}),(0,r.jsxs)(n.p,{children:["Otherwise, use a general Azure location lookup by running this script ",(0,r.jsx)(n.code,{children:'az account list-locations --query "[*].name" --out tsv | sort'})]})]}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"Create a resource group in the region closest to you."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"az group create --name <resource-group-name> --location <region-name>\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsx)(n.li,{children:"Set the resource group as the default resource group for the Azure CLI."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"az configure --defaults group=<resource-group-name>\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsx)(n.li,{children:"Run the following command to create your Azure openAI, content safety and Azure Machine Learning resources:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"az deployment group create --name rai-workshop --template-file main.bicep\n"})}),"\n",(0,r.jsxs)(n.p,{children:["NOTE: For ",(0,r.jsx)(n.strong,{children:"AzureMLname"}),", use only lowercase letters (6 - 8 character long). ",(0,r.jsx)(n.strong,{children:"DO NOT"})," use numbers or special characters.  Use unique names to make sure the name does not match another instance name.  Here's an example:"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(8767).Z+"",width:"1182",height:"630"})}),"\n",(0,r.jsxs)(n.ol,{start:"7",children:["\n",(0,r.jsx)(n.li,{children:"See the environment variables for your resources."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"bash setenv.sh\n"})}),"\n",(0,r.jsx)(n.p,{children:"The setup creates the following Azure resources:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Create Azure OpenAI"}),"\n",(0,r.jsx)(n.li,{children:"Add deployment OpenAI models"}),"\n",(0,r.jsx)(n.li,{children:"Create Azure ML workspace"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8767:(e,n,s)=>{s.d(n,{Z:()=>r});const r=s.p+"assets/images/bicep-param-pf-4a662e45af7433eec3e1389d65e85975.png"},6657:(e,n,s)=>{s.d(n,{Z:()=>r});const r=s.p+"assets/images/gh-codespaces-4cf3c241fd8a0d3297ae2a833a561a11.png"},5302:(e,n,s)=>{s.d(n,{Z:()=>r});const r=s.p+"assets/images/github-load-codespaces-ee0e86a8dbe4170ff0160033a567b5b8.png"},1323:(e,n,s)=>{s.d(n,{Z:()=>r});const r=s.p+"assets/images/vsc-prompt-54cf0f9afa71af81af279a2fc9d77e98.png"},1151:(e,n,s)=>{s.d(n,{Z:()=>a,a:()=>i});var r=s(7294);const t={},o=r.createContext(t);function i(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);